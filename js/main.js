!function(e){"use strict";function t(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var r=document.body,i={width:e.innerWidth,height:e.innerHeight},n={animations:Modernizr.cssanimations},o={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],a=function(e,t){var r=function(e){if(n.animations){if(e.target!=this)return;this.removeEventListener(o,r)}t&&"function"==typeof t&&t.call()};n.animations?e.addEventListener(o,r):r()};function s(e){this.options=t({},this.options),t(this.options,e),this._init()}s.prototype.options={nmbLayers:1,bgcolor:"#fff",effect:"anim--effect-1",onStart:function(e){return!1},onEnd:function(e){return!1}},s.prototype._init=function(){this._addLayers(),this.layers=[].slice.call(this.revealerWrapper.children),this._initEvents()},s.prototype._initEvents=function(){var t,r,n;this.debounceResize=(t=function(t){i={width:e.innerWidth,height:e.innerHeight}},function(){var e=this,i=arguments,o=function(){n=null,r||t.apply(e,i)},a=r&&!n;clearTimeout(n),n=setTimeout(o,10),a&&t.apply(e,i)}),e.addEventListener("resize",this.debounceResize)},s.prototype._addLayers=function(){this.revealerWrapper=document.createElement("div"),this.revealerWrapper.className="revealer",classie.add(r,this.options.effect);for(var e="",t=0;t<this.options.nmbLayers;++t)e+='<div style="background:'+("string"==typeof this.options.bgcolor?this.options.bgcolor:this.options.bgcolor instanceof Array&&this.options.bgcolor[t]?this.options.bgcolor[t]:"#fff")+'" class="revealer__layer"></div>';this.revealerWrapper.innerHTML=e,r.appendChild(this.revealerWrapper)},s.prototype.reveal=function(e,t,r){if(this.isAnimating)return!1;if(this.isAnimating=!0,this.direction=e,this.options.onStart(this.direction),"cornertopleft"===e||"cornertopright"===e||"cornerbottomleft"===e||"cornerbottomright"===e){var n,o,s,p=Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2));n=o=p+"px","cornertopleft"===e?s="translate3d(-50%,-50%,0) rotate3d(0,0,1,135deg) translate3d(0,"+p+"px,0)":"cornertopright"===e?s="translate3d(-50%,-50%,0) rotate3d(0,0,1,-135deg) translate3d(0,"+p+"px,0)":"cornerbottomleft"===e?s="translate3d(-50%,-50%,0) rotate3d(0,0,1,45deg) translate3d(0,"+p+"px,0)":"cornerbottomright"===e&&(s="translate3d(-50%,-50%,0) rotate3d(0,0,1,-45deg) translate3d(0,"+p+"px,0)")}else"left"===e||"right"===e?(n="100vh",o="100vw",s="translate3d(-50%,-50%,0) rotate3d(0,0,1,"+("left"===e?90:-90)+"deg) translate3d(0,100%,0)"):("top"===e||"bottom"===e)&&(n="100vw",o="100vh",s="top"===e?"rotate3d(0,0,1,180deg)":"none");this.revealerWrapper.style.width=n,this.revealerWrapper.style.height=o,this.revealerWrapper.style.WebkitTransform=this.revealerWrapper.style.transform=s,this.revealerWrapper.style.opacity=1,classie.add(this.revealerWrapper,"revealer--"+e),classie.add(this.revealerWrapper,"revealer--animate");var l=this,h=0;this.layers.forEach(function(t){a(t,function(){++h===l.options.nmbLayers&&(classie.remove(l.revealerWrapper,"revealer--"+e),classie.remove(l.revealerWrapper,"revealer--animate"),l.revealerWrapper.style.opacity=0,l.isAnimating=!1,l.options.onEnd(l.direction))})}),"function"==typeof r&&(this.callbacktimeout&&clearTimeout(this.callbacktimeout),this.callbacktimeout=setTimeout(r,t))},s.prototype.destroy=function(){classie.remove(r,this.options.effect),e.removeEventListener("resize",this.debounceResize),r.removeChild(this.revealerWrapper)},e.Revealer=s}(window);